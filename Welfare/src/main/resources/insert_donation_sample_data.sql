-- ================================================
-- 복지24 - 후원 및 후원자 리뷰 샘플 데이터
-- ================================================

USE springmvc;

-- Safe update mode 해제
SET SQL_SAFE_UPDATES = 0;
SET FOREIGN_KEY_CHECKS = 0;

-- ================================================
-- 1. users 테이블에 테스트 사용자 추가
-- ================================================
INSERT IGNORE INTO users (user_id, username, password, name, email, phone, role) VALUES
(1, 'user1', 'pass123', '김민수', 'user1@test.com', '010-1111-1111', 'USER'),
(2, 'user2', 'pass123', '이영희', 'user2@test.com', '010-2222-2222', 'USER'),
(3, 'user3', 'pass123', '박철수', 'user3@test.com', '010-3333-3333', 'USER'),
(4, 'user4', 'pass123', '정현우', 'user4@test.com', '010-4444-4444', 'USER'),
(5, 'user5', 'pass123', '강서연', 'user5@test.com', '010-5555-5555', 'USER');

-- ================================================
-- 2. donations 테이블에 샘플 후원 데이터 삽입
-- ================================================
INSERT INTO donations (donation_id, user_id, amount, donation_type, category, package_name, donor_name, donor_email, donor_phone, message, payment_status, created_at) VALUES
(1, NULL, 100000.00, 'regular', '위기가정', '정기후원 10만원', '김민수', 'donor1@test.com', '010-1000-0001', '어려운 이웃들에게 도움이 되길 바랍니다.', 'completed', '2025-01-15 10:00:00'),
(2, NULL, 50000.00, 'onetime', '의료비', '일시후원 5만원', '익명', 'donor2@test.com', '010-2000-0002', '빠른 회복을 기원합니다.', 'completed', '2025-01-14 11:30:00'),
(3, NULL, 200000.00, 'onetime', '화재피해', '일시후원 20만원', '박철수', 'donor3@test.com', '010-3000-0003', '다시 일어설 수 있기를 바랍니다.', 'completed', '2025-01-13 14:20:00'),
(4, NULL, 30000.00, 'regular', '한부모', '정기후원 3만원', '익명', 'donor4@test.com', '010-4000-0004', '아이들이 건강하게 자라길 바랍니다.', 'completed', '2025-01-12 09:15:00'),
(5, NULL, 150000.00, 'onetime', '자연재해', '일시후원 15만원', '정현우', 'donor5@test.com', '010-5000-0005', '재난 복구에 도움이 되길 바랍니다.', 'completed', '2025-01-11 16:45:00'),
(6, NULL, 20000.00, 'regular', '노숙인', '정기후원 2만원', '강서연', 'donor6@test.com', '010-6000-0006', '따뜻한 겨울 보내세요.', 'completed', '2025-01-10 13:20:00'),
(7, NULL, 80000.00, 'onetime', '가정폭력', '일시후원 8만원', '익명', 'donor7@test.com', '010-7000-0007', '새로운 시작을 응원합니다.', 'completed', '2025-01-09 10:30:00'),
(8, NULL, 40000.00, 'regular', '자살고위험', '정기후원 4만원', '익명', 'donor8@test.com', '010-8000-0008', '힘든 시기를 잘 극복하시길 바랍니다.', 'completed', '2025-01-08 15:00:00'),
(9, NULL, 120000.00, 'onetime', '범죄피해', '일시후원 12만원', '익명', 'donor9@test.com', '010-9000-0009', '트라우마 치료에 도움이 되길 바랍니다.', 'completed', '2025-01-07 11:45:00'),
(10, NULL, 75000.00, 'onetime', '위기가정', '일시후원 7.5만원', '이영희', 'donor10@test.com', '010-1000-0010', '조금이나마 보탬이 되길 바랍니다.', 'completed', '2025-01-06 14:30:00');

-- ================================================
-- 3. donation_reviews 테이블에 샘플 리뷰 데이터 삽입
-- ================================================
INSERT INTO donation_reviews (review_id, user_id, donation_id, reviewer_name, rating, content, is_anonymous, helpful_count, created_at, updated_at) VALUES
(1, 1, 1, '김민수', 5, '어려운 시기에 도움을 받을 수 있어서 정말 감사했습니다. 복지24를 통해 신청한 지원금 덕분에 가족이 다시 희망을 찾을 수 있었습니다. 앞으로도 더 많은 분들이 혜택을 받으실 수 있기를 바랍니다.', FALSE, 42, '2025-01-15 11:00:00', '2025-01-15 11:00:00'),
(2, 2, 2, '익명', 5, '가족의 수술비 때문에 고민이 많았는데, 복지24에서 의료비 지원 프로그램을 찾을 수 있었습니다. 덕분에 큰 걱정을 덜 수 있었어요. 정말 감사드립니다.', TRUE, 35, '2025-01-14 12:30:00', '2025-01-14 12:30:00'),
(3, 3, 3, '박철수', 5, '화재로 모든 것을 잃었을 때, 복지24를 통해 긴급 지원을 받을 수 있었습니다. 빠른 처리와 친절한 안내에 진심으로 감사드립니다. 다시 일어설 수 있는 힘이 되었습니다.', FALSE, 58, '2025-01-13 15:20:00', '2025-01-13 15:20:00'),
(4, 2, 4, '익명', 5, '한부모 가정을 위한 다양한 지원 프로그램이 있어서 좋았습니다. 아이 양육비에 큰 도움이 되고 있어요. 계속해서 정기 기부를 이어가겠습니다.', TRUE, 28, '2025-01-12 10:15:00', '2025-01-12 10:15:00'),
(5, 4, 5, '정현우', 5, '태풍 피해로 집이 침수되었을 때 긴급 지원금을 받았습니다. 복지24의 빠른 대응과 체계적인 시스템 덕분에 빠르게 일상으로 돌아갈 수 있었습니다.', FALSE, 45, '2025-01-11 17:45:00', '2025-01-11 17:45:00'),
(6, 5, 6, '강서연', 5, '매달 작은 금액이지만 정기 기부를 하고 있습니다. 누군가에게 도움이 된다는 것이 뿌듯합니다. 복지24가 투명하게 운영되는 것 같아 믿음이 갑니다.', FALSE, 31, '2025-01-10 14:20:00', '2025-01-10 14:20:00'),
(7, 1, 7, '익명', 5, '가정폭력 피해자 보호시설 지원 프로그램을 통해 안전한 곳으로 옮길 수 있었습니다. 새로운 시작을 할 수 있게 도와주셔서 감사합니다.', TRUE, 52, '2025-01-09 11:30:00', '2025-01-09 11:30:00'),
(8, 3, 8, '익명', 5, '심리 상담 지원 프로그램 덕분에 힘든 시기를 잘 극복할 수 있었습니다. 전문 상담사님들의 도움이 정말 컸어요. 비슷한 어려움을 겪는 분들께 추천합니다.', TRUE, 38, '2025-01-08 16:00:00', '2025-01-08 16:00:00'),
(9, 4, 9, '익명', 5, '범죄 피해로 인한 트라우마 치료비 지원을 받았습니다. 경제적 부담이 줄어들어 치료에 집중할 수 있었고, 심리적으로도 많이 회복되었습니다.', TRUE, 47, '2025-01-07 12:45:00', '2025-01-07 12:45:00');

-- ================================================
-- 통계 확인 쿼리
-- ================================================
SELECT '=== 후원 통계 ===' AS info;
SELECT
    COUNT(*) AS total_donations,
    COUNT(DISTINCT COALESCE(user_id, donor_email)) AS total_donors,
    SUM(amount) AS total_amount,
    AVG(amount) AS avg_amount
FROM donations
WHERE payment_status = 'completed';

SELECT '=== 리뷰 통계 ===' AS info;
SELECT
    COUNT(*) AS total_reviews,
    AVG(rating) AS avg_rating,
    SUM(helpful_count) AS total_helpful
FROM donation_reviews;

-- Safe update mode 복구
SET FOREIGN_KEY_CHECKS = 1;
SET SQL_SAFE_UPDATES = 1;

COMMIT;

SELECT '=== 샘플 데이터 삽입 완료 ===' AS status;
